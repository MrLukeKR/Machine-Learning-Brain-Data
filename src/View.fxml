<?xml version="1.0" encoding="UTF-8"?>

<?import javafx.geometry.Insets?>
<?import javafx.scene.chart.BubbleChart?>
<?import javafx.scene.chart.CategoryAxis?>
<?import javafx.scene.chart.LineChart?>
<?import javafx.scene.chart.NumberAxis?>
<?import javafx.scene.control.Button?>
<?import javafx.scene.control.Label?>
<?import javafx.scene.control.Menu?>
<?import javafx.scene.control.MenuBar?>
<?import javafx.scene.control.MenuItem?>
<?import javafx.scene.control.ProgressBar?>
<?import javafx.scene.control.Separator?>
<?import javafx.scene.control.Tab?>
<?import javafx.scene.control.TabPane?>
<?import javafx.scene.control.TableColumn?>
<?import javafx.scene.control.TableView?>
<?import javafx.scene.control.TextArea?>
<?import javafx.scene.control.TitledPane?>
<?import javafx.scene.image.Image?>
<?import javafx.scene.image.ImageView?>
<?import javafx.scene.layout.AnchorPane?>
<?import javafx.scene.layout.BorderPane?>
<?import javafx.scene.layout.HBox?>
<?import javafx.scene.layout.VBox?>

<AnchorPane maxHeight="-Infinity" maxWidth="-Infinity" minHeight="-Infinity" minWidth="-Infinity" prefHeight="1080.0" prefWidth="1920.0" xmlns="http://javafx.com/javafx/8.0.111" xmlns:fx="http://javafx.com/fxml/1" fx:controller="Controller">
   <children>
      <BorderPane prefHeight="800.0" prefWidth="1280.0" AnchorPane.bottomAnchor="0.0" AnchorPane.leftAnchor="0.0" AnchorPane.rightAnchor="0.0" AnchorPane.topAnchor="0.0">
         <center>
            <TabPane prefHeight="200.0" prefWidth="200.0" tabClosingPolicy="UNAVAILABLE" BorderPane.alignment="CENTER">
              <tabs>
                <Tab text="Data Consolidator">
                     <content>
                        <BorderPane prefHeight="200.0" prefWidth="200.0">
                           <left>
                              <VBox prefHeight="546.0" prefWidth="280.0" BorderPane.alignment="CENTER">
                                 <children>
                                  <TitledPane animated="false" collapsible="false" prefHeight="157.0" prefWidth="280.0" text="Import Files">
                                       <content>
                                          <VBox prefHeight="200.0" prefWidth="278.0" spacing="5.0">
                                             <children>
                                                <Button fx:id="importfNIRSDataButton" mnemonicParsing="false" onAction="#importfNIRSData" prefHeight="25.0" prefWidth="260.0" text="Import fNIRS Data" textFill="BLUE" />
                                                <Button fx:id="importfNIRSTimeButton" disable="true" mnemonicParsing="false" onAction="#importfNIRSTimeData" prefHeight="25.0" prefWidth="260.0" text="Import Timestamp Data" textFill="BLUE" />
                                                <Button fx:id="importEmpaticaHRButton" mnemonicParsing="false" onAction="#importEmpaticaHR" prefHeight="25.0" prefWidth="260.0" text="Import Empatica Heart Rate Data" textFill="MAGENTA" />
                                                <Button disable="true" mnemonicParsing="false" prefHeight="25.0" prefWidth="260.0" text="Import Empatica Temperature Data" textFill="MAGENTA" />
                                                <Button fx:id="importGameplayDataButton" mnemonicParsing="false" onAction="#importGameplayData" prefHeight="25.0" prefWidth="260.0" text="Import Gameplay Performance Log" textFill="#03b508" />
                                                <Button fx:id="importSubjectiveDataButton" disable="true" mnemonicParsing="false" onAction="#importSubjectiveData" prefHeight="25.0" prefWidth="260.0" text="Import Subjective Rating Data" textFill="#03b508" />
                                             </children>
                                             <opaqueInsets>
                                                <Insets />
                                             </opaqueInsets>
                                          </VBox>
                                       </content>
                                    </TitledPane>
                                  <TitledPane animated="false" collapsible="false" prefHeight="200.0" prefWidth="280.0" text="Available Data">
                                       <content>
                                          <VBox prefHeight="200.0" prefWidth="100.0">
                                             <children>
                                                <HBox prefHeight="100.0" prefWidth="200.0">
                                                   <children>
                                                      <ImageView fitHeight="20.0" fitWidth="20.0" pickOnBounds="true" preserveRatio="true">
                                                         <image>
                                                            <Image url="@../res/images/error.png" />
                                                         </image>
                                                      </ImageView>
                                                      <Separator opacity="0.0" orientation="VERTICAL" prefHeight="20.0" prefWidth="5.0" />
                                                      <Label contentDisplay="CENTER" prefHeight="20.0" prefWidth="175.0" text="fNIRS Channels:" />
                                                      <Label id="channelCount" fx:id="channelCount" contentDisplay="CENTER" prefHeight="20.0" prefWidth="60.0" text="0" />
                                                   </children>
                                                </HBox>
                                                <HBox prefHeight="100.0" prefWidth="200.0">
                                                   <children>
                                                      <ImageView fitHeight="20.0" fitWidth="20.0" pickOnBounds="true" preserveRatio="true">
                                                         <image>
                                                            <Image url="@../res/images/error.png" />
                                                         </image>
                                                      </ImageView>
                                                      <Separator opacity="0.0" orientation="VERTICAL" prefHeight="20.0" prefWidth="5.0" />
                                                      <Label contentDisplay="CENTER" prefHeight="20.0" prefWidth="175.0" text="fNIRS Records:" />
                                                      <Label id="recordCount" fx:id="recordCount" contentDisplay="CENTER" prefHeight="20.0" prefWidth="60.0" text="0" />
                                                   </children>
                                                </HBox>
                                                <HBox prefHeight="100.0" prefWidth="200.0">
                                                   <children>
                                                      <ImageView fitHeight="20.0" fitWidth="20.0" pickOnBounds="true" preserveRatio="true">
                                                         <image>
                                                            <Image url="@../res/images/error.png" />
                                                         </image>
                                                      </ImageView>
                                                      <Separator opacity="0.0" orientation="VERTICAL" prefHeight="20.0" prefWidth="5.0" />
                                                      <Label contentDisplay="CENTER" prefHeight="20.0" prefWidth="175.0" text="Timestamp Records:" />
                                                      <Label fx:id="timeCount" contentDisplay="CENTER" prefHeight="20.0" prefWidth="60.0" text="0" />
                                                   </children>
                                                </HBox>
                                                <HBox prefHeight="100.0" prefWidth="200.0">
                                                   <children>
                                                      <ImageView fitHeight="20.0" fitWidth="20.0" pickOnBounds="true" preserveRatio="true">
                                                         <image>
                                                            <Image url="@../res/images/error.png" />
                                                         </image>
                                                      </ImageView>
                                                      <Separator opacity="0.0" orientation="VERTICAL" prefHeight="20.0" prefWidth="5.0" />
                                                      <Label contentDisplay="CENTER" prefHeight="20.0" prefWidth="175.0" text="Empatica Heart Rate Records:" />
                                                      <Label fx:id="hrCount" contentDisplay="CENTER" prefHeight="20.0" prefWidth="60.0" text="0" />
                                                   </children>
                                                </HBox>
                                                <HBox prefHeight="100.0" prefWidth="200.0">
                                                   <children>
                                                      <ImageView fitHeight="20.0" fitWidth="20.0" pickOnBounds="true" preserveRatio="true">
                                                         <image>
                                                            <Image url="@../res/images/error.png" />
                                                         </image>
                                                      </ImageView>
                                                      <Separator opacity="0.0" orientation="VERTICAL" prefHeight="20.0" prefWidth="5.0" />
                                                      <Label contentDisplay="CENTER" prefHeight="20.0" prefWidth="175.0" text="Empatica Temperature Records:" />
                                                      <Label contentDisplay="CENTER" prefHeight="20.0" prefWidth="60.0" text="0" />
                                                   </children>
                                                </HBox>
                                             </children>
                                          </VBox>
                                       </content>
                                    </TitledPane>
                                    <TitledPane animated="false" collapsible="false" prefHeight="310.0" prefWidth="282.0" text="Timestamp Information">
                                       <content>
                                          <VBox prefHeight="200.0" prefWidth="100.0">
                                             <children>
                                                <Label contentDisplay="CENTER" prefHeight="20.0" prefWidth="260.0" text="fNIRS Start Time" textAlignment="CENTER" underline="true" />
                                                <Label fx:id="fNIRSStartTime" contentDisplay="CENTER" minHeight="-Infinity" minWidth="-Infinity" prefHeight="20.0" prefWidth="260.0" text="0" />
                                                <Separator prefWidth="200.0" />
                                                <Label contentDisplay="CENTER" prefHeight="20.0" prefWidth="260.0" text="Empatica Start Time" textAlignment="CENTER" underline="true" />
                                                <Label fx:id="empaticaStartTime" contentDisplay="CENTER" minHeight="-Infinity" minWidth="-Infinity" prefHeight="20.0" prefWidth="260.0" text="0" />
                                                <Separator prefWidth="200.0" />
                                                <Label contentDisplay="CENTER" prefHeight="20.0" prefWidth="260.0" text="Gameplay Start Time" textAlignment="CENTER" underline="true" />
                                                <Label fx:id="gameplayStartTime" contentDisplay="CENTER" minHeight="-Infinity" minWidth="-Infinity" prefHeight="20.0" prefWidth="260.0" text="0" />
                                             </children>
                                          </VBox>
                                       </content>
                                    </TitledPane>
                                    <TitledPane animated="false" collapsible="false" prefHeight="76.0" prefWidth="280.0" text="Tools">
                                       <content>
                                          <VBox prefHeight="62.0" prefWidth="278.0" spacing="5.0">
                                             <children>
                                                <Button fx:id="linkEmpaticaToPerformanceButton" disable="true" mnemonicParsing="false" onAction="#linkEmpaticaToPerformance" prefHeight="25.0" prefWidth="260.0" text="Sync Imported Data" textFill="#ff9000" />
                                                <Button fx:id="exportBWFButton" disable="true" mnemonicParsing="false" onAction="#exportBWF" prefHeight="25.0" prefWidth="260.0" text="Export to .bwf" textFill="BLUE" />
                                             </children>
                                             <opaqueInsets>
                                                <Insets />
                                             </opaqueInsets>
                                          </VBox>
                                       </content>
                                    </TitledPane>
                                 </children>
                              </VBox>
                           </left>
                           <center>
                              <TableView id="fNIRSSpreadsheet" fx:id="fNIRSSpreadsheet" accessibleRole="IMAGE_VIEW" BorderPane.alignment="CENTER">
                                <columns>
                                    <TableColumn id="timeCol" fx:id="epochCol" editable="false" prefWidth="75.0" sortable="false" text="Epoch" />
                                    <TableColumn id="timeCol" editable="false" prefWidth="75.0" sortable="false" text="fNIRS (2Hz)">
                                       <columns>
                                          <TableColumn id="timeCol" fx:id="timeCol" editable="false" prefWidth="75.0" sortable="false" text="Time" />
                                          <TableColumn editable="false" maxWidth="-1.0" minWidth="-1.0" prefWidth="-1.0" sortable="false" text="Hemoglobin">
                                             <columns>
                                              <TableColumn fx:id="channel1" editable="false" prefWidth="75.0" sortable="false" text="Channel 1" />
                                              <TableColumn fx:id="channel2" editable="false" prefWidth="75.0" sortable="false" text="Channel 2" />
                                                <TableColumn fx:id="channel3" editable="false" prefWidth="75.0" sortable="false" text="Channel 3" />
                                                <TableColumn fx:id="channel4" editable="false" prefWidth="75.0" sortable="false" text="Channel 4" />
                                                <TableColumn fx:id="channel5" editable="false" prefWidth="75.0" sortable="false" text="Channel 5" />
                                                <TableColumn fx:id="channel6" editable="false" prefWidth="75.0" sortable="false" text="Channel 6" />
                                                <TableColumn fx:id="channel7" editable="false" prefWidth="75.0" sortable="false" text="Channel 7" />
                                                <TableColumn fx:id="channel8" editable="false" prefWidth="75.0" sortable="false" text="Channel 8" />
                                                <TableColumn fx:id="channel9" editable="false" prefWidth="75.0" sortable="false" text="Channel 9" />
                                                <TableColumn fx:id="channel10" editable="false" prefWidth="75.0" sortable="false" text="Channel 10" />
                                                <TableColumn fx:id="channel11" editable="false" prefWidth="75.0" sortable="false" text="Channel 11" />
                                                <TableColumn fx:id="channel12" editable="false" prefWidth="75.0" sortable="false" text="Channel 12" />
                                                <TableColumn fx:id="channel13" editable="false" prefWidth="75.0" sortable="false" text="Channel 13" />
                                                <TableColumn fx:id="channel14" editable="false" prefWidth="75.0" sortable="false" text="Channel 14" />
                                                <TableColumn fx:id="channel15" editable="false" prefWidth="75.0" sortable="false" text="Channel 15" />
                                                <TableColumn fx:id="channel16" editable="false" prefWidth="75.0" sortable="false" text="Channel 16" />
                                                <TableColumn editable="false" prefWidth="75.0" sortable="false" text="Grouped Averages">
                                                   <columns>
                                                      <TableColumn fx:id="average1" editable="false" prefWidth="75.0" sortable="false" text="1, 2, 3, 4" />
                                                      <TableColumn fx:id="average2" editable="false" prefWidth="75.0" sortable="false" text="5, 6, 7, 8" />
                                                      <TableColumn fx:id="average3" editable="false" prefWidth="75.0" sortable="false" text="9, 10, 11, 12" />
                                                      <TableColumn fx:id="average4" editable="false" prefWidth="75.0" sortable="false" text="13, 14, 15, 16" />
                                                   </columns>
                                                </TableColumn>
                                             </columns>
                                          </TableColumn>
                                       </columns>
                                    </TableColumn>
                                    <TableColumn id="timeCol" fx:id="timeCol1" editable="false" prefWidth="75.0" sortable="false" text="Empatica (1Hz)">
                                       <columns>
                                          <TableColumn id="timeCol" fx:id="hrEpochCol" editable="false" prefWidth="75.0" sortable="false" text="Epoch" />
                                          <TableColumn id="timeCol" fx:id="hrCol" editable="false" prefWidth="75.0" sortable="false" text="Heart Rate" />
                                       </columns>
                                    </TableColumn>
                                    <TableColumn id="timeCol" fx:id="timeCol11" editable="false" prefWidth="75.0" sortable="false" text="Subjective Ratings (/10)">
                                       <columns>
                                          <TableColumn id="timeCol" fx:id="hrCol1" editable="false" prefWidth="75.0" sortable="false" text="1" />
                                          <TableColumn id="timeCol" fx:id="tempCol1" editable="false" prefWidth="75.0" sortable="false" text="2" />
                                          <TableColumn id="timeCol" fx:id="tempCol11" editable="false" prefWidth="75.0" sortable="false" text="3" />
                                       </columns>
                                    </TableColumn>
                                </columns>
                              </TableView>
                           </center></BorderPane>
                     </content>
                  </Tab>
                <Tab text="Data Analyser">
                     <content>
                        <BorderPane prefHeight="200.0" prefWidth="200.0">
                           <center>
                              <LineChart fx:id="fNIRSChart" alternativeRowFillVisible="false" animated="false" cache="true" createSymbols="false" prefHeight="808.0" prefWidth="1725.0" title="fNIRS Data" BorderPane.alignment="CENTER">
                                <xAxis>
                                  <CategoryAxis animated="false" label="Time" side="BOTTOM" />
                                </xAxis>
                                <yAxis>
                                  <NumberAxis side="LEFT" />
                                </yAxis>
                              </LineChart>
                           </center>
                           <left>
                              <VBox prefHeight="808.0" prefWidth="194.0" BorderPane.alignment="CENTER">
                                 <children>
                                    <TitledPane animated="false" prefHeight="810.0" prefWidth="194.0" text="Tools">
                                       <content>
                                          <VBox prefHeight="387.0" prefWidth="192.0">
                                             <children>
                                                <Button fx:id="generateGraphButton" mnemonicParsing="false" onAction="#generatefNIRSChart" prefHeight="25.0" prefWidth="170.0" text="View Raw fNIRS" />
                                                <Separator opacity="0.0" prefHeight="10.0" prefWidth="158.0" />
                                                <Button fx:id="generateAveragedGraphButton" mnemonicParsing="false" onAction="#generateAveragedfNIRSChart" prefHeight="25.0" prefWidth="170.0" text="View Averaged fNIRS" />
                                                <Separator opacity="0.0" prefHeight="10.0" prefWidth="158.0" />
                                                <Button fx:id="stepDetectfNIRSButton" disable="true" mnemonicParsing="false" onAction="#stepDetectfNIRS" prefHeight="25.0" prefWidth="170.0" text="Step Detect Raw fNIRS" textFill="#b20000" />
                                                <Separator opacity="0.0" prefHeight="10.0" prefWidth="158.0" />
                                                <Button fx:id="stepDetectAveragedfNIRSButton" disable="true" mnemonicParsing="false" onAction="#stepDetectAveragedfNIRS" prefHeight="25.0" prefWidth="170.0" text="Step Detect Averaged fNIRS" textFill="#b20000" />
                                             </children>
                                          </VBox>
                                       </content>
                                    </TitledPane>
                                 </children>
                              </VBox>
                           </left>
                        </BorderPane>
                     </content>
                  </Tab>
                  <Tab text="SVM Classification">
                     <content>
                        <BubbleChart title="Classification of Mental Workload">
                          <xAxis>
                            <NumberAxis side="BOTTOM" />
                          </xAxis>
                          <yAxis>
                            <NumberAxis side="LEFT" />
                          </yAxis>
                        </BubbleChart>
                     </content>
                  </Tab>
              </tabs>
            </TabPane>
         </center>
         <top>
            <MenuBar BorderPane.alignment="CENTER">
              <menus>
                <Menu mnemonicParsing="false" text="File">
                  <items>
                    <MenuItem id="closeButton" fx:id="closeButton" mnemonicParsing="false" onAction="#handleCloseButtonAction" text="Close" />
                  </items>
                </Menu>
                <Menu mnemonicParsing="false" text="Edit">
                  <items>
                    <MenuItem mnemonicParsing="false" text="Delete" />
                  </items>
                </Menu>
                <Menu mnemonicParsing="false" text="Help">
                  <items>
                    <MenuItem mnemonicParsing="false" text="About" />
                  </items>
                </Menu>
              </menus>
            </MenuBar>
         </top>
         <bottom>
            <BorderPane prefHeight="200.0" prefWidth="200.0" BorderPane.alignment="CENTER">
               <top>
                  <TitledPane animated="false" collapsible="false" prefHeight="200.0" prefWidth="200.0" text="Information" BorderPane.alignment="CENTER">
                     <content>
                        <TextArea id="informationTextArea" fx:id="informationTextArea" editable="false" prefHeight="200.0" prefWidth="1280.0" text="   Brain Data Machine Learning &#10;Written by Luke K. Rose 2017/18&#10;------------------------------------&#10;" />
                     </content>
                  </TitledPane>
               </top>
               <bottom>
                  <ProgressBar fx:id="progressBar" prefHeight="18.0" prefWidth="1920.0" progress="0.0" BorderPane.alignment="CENTER" />
               </bottom>
            </BorderPane>
         </bottom>
      </BorderPane>
   </children>
</AnchorPane>
